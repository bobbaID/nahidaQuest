<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name = "viewport" content = "width=device-width, initial-scale=1, maximum-scale=1">
    <style>
        body {
          background: #555;
          position: relative;
        }
        
        .content {
          max-width: 1200px;
          margin: auto;
          background: white;
          padding: 10px;
        }
    </style>
    <title>nahidaQuest!</title>
</head>
<body style="background: url(./assets/bg1.png);width: device-width;height:1000px;background-repeat: no-repeat;background-size: 100%;">
    <p style="position: absolute;">Saved name is:</p>
    <p style="left:10px; top:40px; position: absolute;" id="demo"></p>
    <div style="left:10px; top:100px;position: absolute;">
        <button id="add"  style="height:100px;width:100px;left:100px;position: absolute;">add</button>
    <button id="save"  style="height:100px;width:100px;left:200px;position: absolute;">save</button>
    <button id="clear"  style="height:100px;width:100px;left:300px;position: absolute;">clear</button>
    </div>
    



    <script type="module">
    import { upgradeDictDefault } from "./test_script.js"
    var demoBut = document.getElementById("demo");
    var addBut = document.getElementById("add");
    var saveBut = document.getElementById("save");
    var clearBut = document.getElementById("clear");
    var upgradeDict = "";

    addBut.addEventListener("click",function() {add()})
    saveBut.addEventListener("click",function() {save()})
    clearBut.addEventListener("click",function() {clear()})

    if (localStorage.getItem("upgradeDictSave") === null) {
        upgradeDict = upgradeDictDefault;
        demoBut.innerHTML = upgradeDict[0]["Level"];
    } else {
        let upgradeDictTemp = window.localStorage.getItem("upgradeDictSave");
        upgradeDict = JSON.parse(upgradeDictTemp)
        demoBut.innerHTML = upgradeDict[0]["Level"];
    }

    function add() {
        upgradeDict[0]["Level"]++;
        console.log(upgradeDict[0]["Level"])
        demoBut.innerHTML = upgradeDict[0]["Level"];
    }

    function save() {
         localStorage.setItem("upgradeDictSave", JSON.stringify(upgradeDict));
         console.log(JSON.stringify(upgradeDict))
  }

    function clear() {
        localStorage.clear();
    }
        
        
        
    </script>









</body>
</html>